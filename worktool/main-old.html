<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í¬ë¡œìŠ¤í•íŒ ì›Œí¬íˆ´</title>
  
  <!-- ğŸ¨ ìƒˆë¡œìš´ CSS íŒŒì¼ë“¤ ì ìš© -->
  <link rel="stylesheet" href="assets/css/variables.css">
  <link rel="stylesheet" href="assets/css/common.css">
  <link rel="stylesheet" href="assets/css/components.css">
  
  <!-- ğŸ“± ë°˜ì‘í˜• CSS (ê¸°ì¡´ ì½”ë“œì—ì„œ ì¶”ì¶œ) -->
  <style>
    /* ğŸ¢ ì‹ ì°½ì  ì „ìš© ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
    .shin-container {
      flex-grow: 1;
      transition: opacity var(--transition-normal);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
    }

    .shin-stack {
      position: relative;
      width: 100%;
      height: 100%;
      min-height: 400px;
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-lg);
      box-sizing: border-box;
      flex-grow: 1;
      overflow: hidden;
    }

    .shin-stack iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      border: 0;
      border-radius: var(--radius-lg);
      transform: scale(1.0);
      transform-origin: top left;
      background: var(--white);
    }

    /* ë©”ì¸ í† ê¸€ ë²„íŠ¼ ë°˜ì‘í˜• */
    @media screen and (max-width: 1200px) {
      .toggle-button {
        flex: 1 1 calc(25% - var(--space-2));
        min-width: 110px;
      }
    }

    @media screen and (max-width: 768px) {
      .toggle-container {
        gap: var(--space-1);
      }
      
      .toggle-button {
        flex: 1 1 calc(50% - var(--space-1));
        min-width: 90px;
        max-width: none;
        padding: var(--space-3) var(--space-2);
        font-size: var(--font-size-sm);
      }

      .button-icon {
        font-size: var(--font-size-2xl);
      }

      .branch-buttons {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-1);
      }

      .branch-toggle-button {
        padding: var(--space-2) var(--space-1);
        font-size: var(--font-size-xs);
      }

      iframe {
        width: 110% !important;
        height: 100% !important;
        transform-origin: top left !important;
        transform: scale(0.91) !important;
        border-radius: var(--radius-lg) !important;
      }

      .dataFrame-container {
        border-radius: var(--radius-lg);
        height: 800px;
        min-height: 800px;
      }

      .shin-stack {
        border-radius: var(--radius-lg);
        min-height: 800px;
      }

      .shin-stack iframe {
        width: 110% !important;
        height: 100% !important;
        transform: scale(0.91) !important;
        transform-origin: top left !important;
        border-radius: var(--radius-lg) !important;
      }
    }

    @media screen and (max-height: 600px) {
      .result-container {
        padding: var(--space-3);
      }
      
      .toggle-button {
        padding: var(--space-2) var(--space-1);
        font-size: var(--font-size-xs);
      }

      .button-icon {
        font-size: var(--font-size-xl);
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- ë©”ì¸ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ -->
    <div class="result-container">
      <div class="toggle-container">
        <button class="toggle-button active" id="button1">
          <div class="button-icon">ğŸ“Š</div>
          ì¢…í•©í˜„í™© ì°¨íŠ¸
        </button>
        <button class="toggle-button" id="button2">
          <div class="button-icon">ğŸ“…</div>
          ì›”ë‹¨ìœ„ ë‹¬ì„±í˜„í™©
        </button>
        <button class="toggle-button" id="button3">
          <div class="button-icon">ğŸ’°</div>
          ì¸ì„¼ë‚´ì—­ ë° ì •ì±…
        </button>
        <button class="toggle-button" id="button4">
          <div class="button-icon">ğŸ‘¥</div>
          ì—°ê°„ íšŒì›ìˆ˜
        </button>
        <button class="toggle-button" id="button5">
          <div class="button-icon">ğŸ¢</div>
          ì§€ì  ëŒ€ì‹œë³´ë“œ
        </button>
        <button class="toggle-button special" id="button6">
          <div class="button-icon">ğŸ“‹</div>
          ì´ì›”ëŒ€ìƒì
        </button>
        <button class="toggle-button special" id="button7">
          <div class="button-icon">âŒ</div>
          ë…¸ì‡¼ì²´í¬
        </button>
        <button class="toggle-button" id="button8">
          <div class="button-icon">ğŸ“¦</div>
          ë°°ì†¡ìƒí’ˆ í™•ì¸
        </button>
      </div>

      <!-- ì§€ì  ëŒ€ì‹œë³´ë“œ ì„œë¸Œ ë²„íŠ¼ë“¤ -->
      <div class="branch-sub-container" id="branchSubContainer">
        <div class="branch-buttons">
          <button class="branch-toggle-button sangmu active" 
            data-url="https://lookerstudio.google.com/embed/reporting/64be6fe1-640e-457b-9108-1c70d60e666e/page/buSUF">
            ğŸŒ¿ ìƒë¬´ì  ëŒ€ì‹œë³´ë“œ
          </button>
          <button class="branch-toggle-button sinchang" 
            data-url="https://lookerstudio.google.com/embed/reporting/64be6fe1-640e-457b-9108-1c70d60e666e/page/p_gfze1gk9ud" 
            id="shinBtn">
            ğŸ’™ ì‹ ì°½ì  ëŒ€ì‹œë³´ë“œ
          </button>
          <button class="branch-toggle-button ochi" 
            data-url="https://lookerstudio.google.com/embed/reporting/64be6fe1-640e-457b-9108-1c70d60e666e/page/p_suzy22l9ud">
            ğŸ§¡ ì˜¤ì¹˜ì  ëŒ€ì‹œë³´ë“œ
          </button>
          <button class="branch-toggle-button staff" 
            data-url="https://lookerstudio.google.com/embed/reporting/64be6fe1-640e-457b-9108-1c70d60e666e/page/p_d1s8t8pavd">
            ğŸ‘¨â€ğŸ’¼ ì „ì§€ì  ë‹´ë‹¹ìë³„ ë“±ë¡ë¥ 
          </button>
        </div>
      </div>
    </div>
    
    <!-- ë°ì´í„° í‘œì‹œ ì˜ì—­ -->
    <div class="dataFrame-container" id="dataFrameContainer">
      <div class="loading-overlay"></div>
      <div class="loader"></div>
      
      <!-- ì‹ ì°½ì  ì „ìš© ì»¨í…Œì´ë„ˆ -->
      <div id="shinContainer" class="shin-container" hidden>
        <div class="shin-stack">
          <iframe id="shinBranchFrame"
            src="https://lookerstudio.google.com/embed/reporting/64be6fe1-640e-457b-9108-1c70d60e666e/page/p_gfze1gk9ud"
            title="ì‹ ì°½ì  ëŒ€ì‹œë³´ë“œ" allowfullscreen loading="eager"></iframe>
          <iframe id="shinStaffFrame"
            src="https://lookerstudio.google.com/embed/reporting/695906da-94dd-4027-aa85-300c66ba158e/page/eMJQF"
            title="ë‹´ë‹¹ì ëŒ€ì‹œë³´ë“œ" allowfullscreen loading="eager" hidden></iframe>
        </div>
      </div>
      
      <!-- ì¼ë°˜ iframe -->
      <iframe id="dataFrame"></iframe>
    </div>
  </div>

  <!-- ğŸš€ ìƒˆë¡œ ë¶„ë¦¬ëœ JavaScript íŒŒì¼ë“¤ -->
  <script src="assets/js/config.js"></script>
  <script src="assets/js/components.js"></script>
  <script src="assets/js/main.js"></script>
</body>
</html> = '400px';
        shinStack.style.position = 'relative';
      }
      
      // iframe í‘œì‹œ/ìˆ¨ê¹€ ì²˜ë¦¬
      shinBranchFrame.hidden = shinIsStaffMode;
      shinStaffFrame.hidden = !shinIsStaffMode;
      
      // ë ˆì´ì•„ì›ƒ ì¬ê³„ì‚° ê°•ì œ ì‹¤í–‰
      setTimeout(() => {
        window.dispatchEvent(new Event('resize'));
        
        // iframe ë†’ì´ ì¬ì„¤ì • (ê°•ì œ)
        const activeFrame = shinIsStaffMode ? shinStaffFrame : shinBranchFrame;
        if (activeFrame && shinStack) {
          activeFrame.style.height = '100%';
          activeFrame.style.minHeight = shinStack.offsetHeight + 'px';
        }
      }, 100);
    };

    // ğŸ“„ ì¼ë°˜ í˜ì´ì§€ í‘œì‹œ í•¨ìˆ˜
    const showCommon = (url) => {
      shinContainer.hidden = true;
      shinContainer.style.display = 'none';
      dataFrame.hidden = false;
      dataFrame.style.display = 'block';
      updateFrame(url);
      shinIsStaffMode = false;
      updateShinLabel();
    };

    // ğŸ¯ ë©”ì¸ ë²„íŠ¼ ì„¤ì •
    function setupMainButtons() {
      // ì¼ë°˜ ë©”ì¸ ë²„íŠ¼ë“¤
      ['button1', 'button2', 'button3', 'button4', 'button6', 'button7', 'button8'].forEach(buttonId => {
        document.getElementById(buttonId).addEventListener('click', () => {
          activateButton(document.getElementById(buttonId), true);
          branchSubContainer.classList.remove('show');
          branchSubVisible = false;
          shinContainer.hidden = true;
          dataFrame.hidden = false;
          updateFrame(dataUrls[buttonId]);
          
          scrollToElement(dataFrameContainer, 10);
        });
      });

      // ì§€ì  ëŒ€ì‹œë³´ë“œ ë²„íŠ¼
      document.getElementById('button5').addEventListener('click', () => {
        activateButton(document.getElementById('button5'), true);
        
        if (!branchSubVisible) {
          branchSubContainer.classList.add('show');
          branchSubVisible = true;
          
          branchButtons.forEach((b, index) => {
            b.classList.remove("active");
            if (index === lastSelectedBranchIndex) {
              b.classList.add("active");
            }
          });
          
          const selectedButton = branchButtons[lastSelectedBranchIndex];
          if (selectedButton === shinBtn) {
            showShin();
          } else {
            shinContainer.hidden = true;
            dataFrame.hidden = false;
            updateFrame(selectedButton.dataset.url);
          }
          
          scrollToElement(branchSubContainer, 10);
        } else {
          branchSubContainer.classList.remove('show');
          branchSubVisible = false;
          scrollToElement(dataFrameContainer, 10);
        }
        
        updateShinLabel();
      });
    }

    // ğŸ¢ ì§€ì  ë²„íŠ¼ ì„¤ì •
    function setupBranchButtons() {
      branchButtons.forEach((btn, index) => {
        btn.addEventListener("click", (e) => {
          e.preventDefault();
          e.stopPropagation();

          lastSelectedBranchIndex = index;

          if (btn === shinBtn) {
            if (!shinBtn.classList.contains("active")) {
              activateButton(shinBtn);
              shinIsStaffMode = false;
              updateShinLabel();
              showShin();
              return;
            }
            
            shinIsStaffMode = !shinIsStaffMode;
            updateShinLabel();
            showShin();
            return;
          }

          activateButton(btn);
          showCommon(btn.dataset.url);
        });
      });
    }

    // ğŸš€ ì´ˆê¸°í™” í•¨ìˆ˜
    document.addEventListener('DOMContentLoaded', function() {
      setupMainButtons();
      setupBranchButtons();
      
      updateFrame(dataUrls.button1);
      
      shinIsStaffMode = false;
      updateShinLabel();
      
      console.log('ğŸ‰ í¬ë¡œìŠ¤í•íŒ ì›Œí¬íˆ´ì´ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
    });
  </script>
</body>
</html>